<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>

  <body>
    <div>
      <canvas id="myChart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script>
      var d = [];
       var data = JSON.parse('{{ data | tojson | safe}}');
        // data = user[2].map(i=>i.replaceAll(",",'')).map(i =>Number(i))
        console.log(data)

      $(document).ready(function () {
          const ctx = document.getElementById("myChart");
          new Chart(ctx, {
            type: "bar",
            data: {
              labels: data.columns,
              datasets: [
                {
                  label: "# of Votes",
                  data: data.data,
                  borderWidth: 1,
                },
              ],
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true,
                },
              },
            },
          });
        });
    </script>

    <button>차트 적용</button>
  </body>
</html>